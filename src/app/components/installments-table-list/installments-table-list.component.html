<div class="installments-container">
  <div>
    <div class="sale-type">
      <h4>Parcelas</h4>
        <input
          matInput
          type="number"
          [(ngModel)]="installmentsCount"
          (ngModelChange)="updateInstallmentsCount()"
          autocomplete="off"
        >
    </div>
  </div>

  <div
    class="installments-list"
  >
    <div class="table-info">
      <h4>Lista de Parcelas</h4>
    </div>

    <table
      mat-table
      class="table-installments"
      [dataSource]="installmentsList"
    >
      <ng-container matColumnDef="isPaid">
        <th
          mat-header-cell
          *matHeaderCellDef
          style="width: 10% !important"
        >
          Pago
        </th>
        <td mat-cell *matCellDef="let installment">{{ installment.isPaid }}</td>
      </ng-container>

      <ng-container matColumnDef="dueDate">
        <th
          mat-header-cell
          *matHeaderCellDef
          style="width: 20% !important"
        >
          Data de Vencimento
        </th>
        <td mat-cell *matCellDef="let installment">{{ installment.dueDate.toLocaleDateString() }}</td>
      </ng-container>

      <ng-container matColumnDef="price">
        <th
          mat-header-cell
          *matHeaderCellDef
          style="width: 20% !important"
        >
          Preço
        </th>
        <td mat-cell *matCellDef="let installment">{{ installment.price }}</td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th
          mat-header-cell
          *matHeaderCellDef
          style="width: 3% !important"
        >
          Açoes
        </th>
        <td mat-cell *matCellDef="let installment">
          <button
            mat-icon-button
            color="warn"
            (click)="onDeleteInstallmentToList(installment)"
          >
            <mat-icon class="material-symbols-outlined">
              delete
            </mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>

</div>
